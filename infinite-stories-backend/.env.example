# Infinite Stories Backend Environment Configuration
# Copy this file to .env.local for local development

# OpenAI API Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here

# Supabase Configuration (automatically set by Supabase CLI)
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Database Configuration (optional overrides)
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# Storage Configuration
STORAGE_BUCKET_STORY_ASSETS=story-assets
STORAGE_BUCKET_HERO_AVATARS=hero-avatars
STORAGE_BUCKET_STORY_AUDIO=story-audio
STORAGE_BUCKET_STORY_ILLUSTRATIONS=story-illustrations

# Rate Limiting Configuration
RATE_LIMIT_STORY_GENERATION=10
RATE_LIMIT_AUDIO_SYNTHESIS=15
RATE_LIMIT_AVATAR_GENERATION=8
RATE_LIMIT_ILLUSTRATION_GENERATION=25
RATE_LIMIT_WINDOW_SECONDS=3600

# Cache Configuration
CACHE_TTL_STORY_CONTENT=86400
CACHE_TTL_AUDIO_FILES=604800
CACHE_TTL_AVATAR_IMAGES=604800
CACHE_TTL_ILLUSTRATION_IMAGES=604800
CACHE_TTL_CONTENT_FILTER=7200

# Content Filtering Configuration
ENABLE_AI_CONTENT_FILTERING=true
# Performance Optimization Flags (disable for faster responses in development)
DISABLE_CONTENT_FILTERING=false        # Completely disable content filtering (use for testing only)
FILTER_STORY_PROMPTS=false             # Filter story input prompts (optional, adds ~8s)
FILTER_STORY_OUTPUT=false              # Filter story output content (optional, adds ~8s)
FILTER_SCENE_PROMPTS=false             # Filter scene illustration prompts (optional, adds ~30s)

# Audio Generation Configuration
DEFAULT_VOICE=coral
AUDIO_FORMAT=mp3

# Image Generation Configuration
DEFAULT_IMAGE_SIZE=1024x1024
DEFAULT_IMAGE_QUALITY=high
IMAGE_FORMAT=png

# Logging Configuration
LOG_LEVEL=info
ENABLE_PERFORMANCE_LOGGING=true
ENABLE_API_USAGE_LOGGING=true

# Development Configuration
NODE_ENV=development
DEBUG_MODE=false
ENABLE_DETAILED_LOGS=true